#!/bin/zsh

# profile file. Runs on login. Environmental variables are set here.

# If you don't plan on reverting to bash, you can remove the link in ~/.profile
# to clean up.

# Adds `~/.local/bin` to $PATH
export PATH="$PATH:${$(find ~/.local/bin -type d -printf %p:)%%:}"

unsetopt PROMPT_SP

# Default programs:
export EDITOR="nvim"
export TERMINAL="st"
export BROWSER="librewolf"
# ~/ Clean-up:
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CACHE_HOME="$HOME/.cache"
export XINITRC="${XDG_CONFIG_HOME:-$HOME/.config}/x11/xinitrc"
#export XAUTHORITY="$XDG_RUNTIME_DIR/Xauthority" # This line will break some DMs.
export NOTMUCH_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/notmuch-config"
export GTK2_RC_FILES="${XDG_CONFIG_HOME:-$HOME/.config}/gtk-2.0/gtkrc-2.0"
export LESSHISTFILE="-"
export WGETRC="${XDG_CONFIG_HOME:-$HOME/.config}/wget/wgetrc"
export INPUTRC="${XDG_CONFIG_HOME:-$HOME/.config}/shell/inputrc"
export ZDOTDIR="${XDG_CONFIG_HOME:-$HOME/.config}/zsh"
#export ALSA_CONFIG_PATH="$XDG_CONFIG_HOME/alsa/asoundrc"
#export GNUPGHOME="${XDG_DATA_HOME:-$HOME/.local/share}/gnupg"
export WINEPREFIX="${XDG_DATA_HOME:-$HOME/.local/share}/wineprefixes/default"
export KODI_DATA="${XDG_DATA_HOME:-$HOME/.local/share}/kodi"
export PASSWORD_STORE_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/password-store"
export TMUX_TMPDIR="$XDG_RUNTIME_DIR"
export ANDROID_SDK_HOME="${XDG_CONFIG_HOME:-$HOME/.config}/android"
export CARGO_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/cargo"
export GOPATH="${XDG_DATA_HOME:-$HOME/.local/share}/go"
export ANSIBLE_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/ansible/ansible.cfg"
export UNISON="${XDG_DATA_HOME:-$HOME/.local/share}/unison"
export HISTFILE="${XDG_DATA_HOME:-$HOME/.local/share}/history"
export WEECHAT_HOME="${XDG_CONFIG_HOME:-$HOME/.config}/weechat"
export MBSYNCRC="${XDG_CONFIG_HOME:-$HOME/.config}/mbsync/config"
export ELECTRUMDIR="${XDG_DATA_HOME:-$HOME/.local/share}/electrum"

# Other program settings:
export DICS="/usr/share/stardict/dic/"
export SUDO_ASKPASS="$HOME/.local/bin/dmenupass"
export FZF_DEFAULT_OPTS="--layout=reverse --height 40%"
export LESS=-R
export LESS_TERMCAP_mb="$(printf '%b' '[1;31m')"
export LESS_TERMCAP_md="$(printf '%b' '[1;36m')"
export LESS_TERMCAP_me="$(printf '%b' '[0m')"
export LESS_TERMCAP_so="$(printf '%b' '[01;44;33m')"
export LESS_TERMCAP_se="$(printf '%b' '[0m')"
export LESS_TERMCAP_us="$(printf '%b' '[1;32m')"
export LESS_TERMCAP_ue="$(printf '%b' '[0m')"
export LESSOPEN="| /usr/bin/highlight -O ansi %s 2>/dev/null"
export QT_QPA_PLATFORMTHEME="gtk2"	# Have QT use gtk2 theme.
export MOZ_USE_XINPUT2="1"		# Mozilla smooth scrolling/touchpads.
export AWT_TOOLKIT="MToolkit wmname LG3D"	#May have to install wmname
export _JAVA_AWT_WM_NONREPARENTING=1	# Fix for Java applications in dwm


#setiing lf icons
export LF_ICONS="\
ln=:\
or=:\
tw=:\
ow=:\
st=:\
di=:\
pi=:\
so=:\
bd=:\
cd=:\
su=:\
sg=:\
ex=:\
fi=:\
*.ai=:\
*.AI=:\
*.android=:\
*.ANDROID=:\
*.apk=:\
*.APK=:\
*.apple=:\
*.APPLE=:\
*.avi=:\
*.AVI=:\
*.avif=:\
*.AVIF=:\
*.avro=:\
*.AVRO=:\
*.awk=:\
*.AWK=:\
*.bash=:\
*.BASH=:\
*.bash_history=:\
*.BASH_HISTORY=:\
*.bash_profile=:\
*.BASH_PROFILE=:\
*.bashrc=:\
*.BASHRC=:\
*.bat=:\
*.BAT=:\
*.bmp=:\
*.BMP=:\
*.bz=:\
*.BZ=:\
*.bz2=:\
*.BZ2=:\
*.c=:\
*.C=:\
*.c++=:\
*.C++=:\
*.cab=:\
*.CAB=:\
*.cc=:\
*.CC=:\
*.cfg=:\
*.CFG=:\
*.class=:\
*.CLASS=:\
*.clj=:\
*.CLJ=:\
*.cljs=:\
*.CLJS=:\
*.cls=:\
*.CLS=:\
*.cmd=:\
*.CMD=:\
*.coffee=:\
*.COFFEE=:\
*.conf=:\
*.CONF=:\
*.cp=:\
*.CP=:\
*.cpp=:\
*.CPP=:\
*.cs=:\
*.CS=:\
*.csh=:\
*.CSH=:\
*.cshtml=:\
*.CSHTML=:\
*.csproj=:\
*.CSPROJ=:\
*.css=:\
*.CSS=:\
*.csv=:\
*.CSV=:\
*.csx=:\
*.CSX=:\
*.cxx=:\
*.CXX=:\
*.d=:\
*.D=:\
*.dart=:\
*.DART=:\
*.db=:\
*.DB=:\
*.deb=:\
*.DEB=:\
*.diff=:\
*.DIFF=:\
*.djvu=:\
*.DJVU=:\
*.dll=:\
*.DLL=:\
*.doc=:\
*.DOC=:\
*.docx=:\
*.DOCX=:\
*.ds_store=:\
*.DS_STORE=:\
*.DS_store=:\
*.DS_STORE=:\
*.dump=:\
*.DUMP=:\
*.ebook=:\
*.EBOOK=:\
*.editorconfig=:\
*.EDITORCONFIG=:\
*.ejs=:\
*.EJS=:\
*.elm=:\
*.ELM=:\
*.env=:\
*.ENV=:\
*.eot=:\
*.EOT=:\
*.epub=:\
*.EPUB=:\
*.erb=:\
*.ERB=:\
*.erl=:\
*.ERL=:\
*.ex=:\
*.EX=:\
*.exe=:\
*.EXE=:\
*.exs=:\
*.EXS=:\
*.fish=:\
*.FISH=:\
*.flac=:\
*.FLAC=:\
*.flv=:\
*.FLV=:\
*.font=:\
*.FONT=:\
*.fs=:\
*.FS=:\
*.fsi=:\
*.FSI=:\
*.fsx=:\
*.FSX=:\
*.gdoc=:\
*.GDOC=:\
*.gem=:\
*.GEM=:\
*.gemfile=:\
*.GEMFILE=:\
*.gemspec=:\
*.GEMSPEC=:\
*.gform=:\
*.GFORM=:\
*.gif=:\
*.GIF=:\
*.git=:\
*.GIT=:\
*.gitattributes=:\
*.GITATTRIBUTES=:\
*.gitignore=:\
*.GITIGNORE=:\
*.gitmodules=:\
*.GITMODULES=:\
*.go=:\
*.GO=:\
*.gradle=:\
*.GRADLE=:\
*.groovy=:\
*.GROOVY=:\
*.gsheet=:\
*.GSHEET=:\
*.gslides=:\
*.GSLIDES=:\
*.guardfile=:\
*.GUARDFILE=:\
*.gz=:\
*.GZ=:\
*.h=:\
*.H=:\
*.hbs=:\
*.HBS=:\
*.hpp=:\
*.HPP=:\
*.hs=:\
*.HS=:\
*.htm=:\
*.HTM=:\
*.html=:\
*.HTML=:\
*.hxx=:\
*.HXX=:\
*.ico=:\
*.ICO=:\
*.image=:\
*.IMAGE=:\
*.iml=:\
*.IML=:\
*.ini=:\
*.INI=:\
*.ipynb=:\
*.IPYNB=:\
*.iso=:\
*.ISO=:\
*.jad=:\
*.JAD=:\
*.jar=:\
*.JAR=:\
*.java=:\
*.JAVA=:\
*.jfi=:\
*.JFI=:\
*.jfif=:\
*.JFIF=:\
*.jif=:\
*.JIF=:\
*.jpe=:\
*.JPE=:\
*.jpeg=:\
*.JPEG=:\
*.jpg=:\
*.JPG=:\
*.js=:\
*.JS=:\
*.json=:\
*.JSON=:\
*.jsx=:\
*.JSX=:\
*.jxl=:\
*.JXL=:\
*.ksh=:\
*.KSH=:\
*.latex=:\
*.LATEX=:\
*.less=:\
*.LESS=:\
*.lhs=:\
*.LHS=:\
*.license=:\
*.LICENSE=:\
*.localized=:\
*.LOCALIZED=:\
*.lock=:\
*.LOCK=:\
*.log=:\
*.LOG=:\
*.lua=:\
*.LUA=:\
*.lz=:\
*.LZ=:\
*.lz4=:\
*.LZ4=:\
*.lzh=:\
*.LZH=:\
*.lzma=:\
*.LZMA=:\
*.lzo=:\
*.LZO=:\
*.m=:\
*.M=:\
*.mm=:\
*.MM=:\
*.m4a=:\
*.M4A=:\
*.markdown=:\
*.MARKDOWN=:\
*.md=:\
*.MD=:\
*.mjs=:\
*.MJS=:\
*.mk=:\
*.MK=:\
*.mkd=:\
*.MKD=:\
*.mkv=:\
*.MKV=:\
*.mobi=:\
*.MOBI=:\
*.mov=:\
*.MOV=:\
*.mp3=:\
*.MP3=:\
*.mp4=:\
*.MP4=:\
*.msi=:\
*.MSI=:\
*.mustache=:\
*.MUSTACHE=:\
*.nix=:\
*.NIX=:\
*.node=:\
*.NODE=:\
*.npmignore=:\
*.NPMIGNORE=:\
*.odp=:\
*.ODP=:\
*.ods=:\
*.ODS=:\
*.odt=:\
*.ODT=:\
*.ogg=:\
*.OGG=:\
*.ogv=:\
*.OGV=:\
*.otf=:\
*.OTF=:\
*.patch=:\
*.PATCH=:\
*.pdf=:\
*.PDF=:\
*.php=:\
*.PHP=:\
*.pl=:\
*.PL=:\
*.png=:\
*.PNG=:\
*.ppt=:\
*.PPT=:\
*.pptx=:\
*.PPTX=:\
*.procfile=:\
*.PROCFILE=:\
*.properties=:\
*.PROPERTIES=:\
*.ps1=:\
*.PS1=:\
*.psd=:\
*.PSD=:\
*.pxm=:\
*.PXM=:\
*.py=:\
*.PY=:\
*.pyc=:\
*.PYC=:\
*.r=:\
*.R=:\
*.rakefile=:\
*.RAKEFILE=:\
*.rar=:\
*.RAR=:\
*.razor=:\
*.RAZOR=:\
*.rb=:\
*.RB=:\
*.rdata=:\
*.RDATA=:\
*.rdb=:\
*.RDB=:\
*.rdoc=:\
*.RDOC=:\
*.rds=:\
*.RDS=:\
*.readme=:\
*.README=:\
*.rlib=:\
*.RLIB=:\
*.rmd=:\
*.RMD=:\
*.rpm=:\
*.RPM=:\
*.rs=:\
*.RS=:\
*.rspec=:\
*.RSPEC=:\
*.rspec_parallel=:\
*.RSPEC_PARALLEL=:\
*.rspec_status=:\
*.RSPEC_STATUS=:\
*.rss=:\
*.RSS=:\
*.rtf=:\
*.RTF=:\
*.ru=:\
*.RU=:\
*.rubydoc=:\
*.RUBYDOC=:\
*.sass=:\
*.SASS=:\
*.scala=:\
*.SCALA=:\
*.scss=:\
*.SCSS=:\
*.sh=:\
*.SH=:\
*.shell=:\
*.SHELL=:\
*.slim=:\
*.SLIM=:\
*.sln=:\
*.SLN=:\
*.so=:\
*.SO=:\
*.sql=:\
*.SQL=:\
*.sqlite3=:\
*.SQLITE3=:\
*.sty=:\
*.STY=:\
*.styl=:\
*.STYL=:\
*.stylus=:\
*.STYLUS=:\
*.svg=:\
*.SVG=:\
*.swift=:\
*.SWIFT=:\
*.tar=:\
*.TAR=:\
*.taz=:\
*.TAZ=:\
*.tbz=:\
*.TBZ=:\
*.tbz2=:\
*.TBZ2=:\
*.tex=:\
*.TEX=:\
*.tgz=:\
*.TGZ=:\
*.tiff=:\
*.TIFF=:\
*.tlz=:\
*.TLZ=:\
*.toml=:\
*.TOML=:\
*.ts=:\
*.TS=:\
*.tsv=:\
*.TSV=:\
*.tsx=:\
*.TSX=:\
*.ttf=:\
*.TTF=:\
*.twig=:\
*.TWIG=:\
*.txt=:\
*.TXT=:\
*.txz=:\
*.TXZ=:\
*.tz=:\
*.TZ=:\
*.tzo=:\
*.TZO=:\
*.video=:\
*.VIDEO=:\
*.vim=:\
*.VIM=:\
*.vue=﵂:\
*.VUE=﵂:\
*.war=:\
*.WAR=:\
*.wav=:\
*.WAV=:\
*.webm=:\
*.WEBM=:\
*.webp=:\
*.WEBP=:\
*.windows=:\
*.WINDOWS=:\
*.woff=:\
*.WOFF=:\
*.woff2=:\
*.WOFF2=:\
*.xhtml=:\
*.XHTML=:\
*.xls=:\
*.XLS=:\
*.xlsx=:\
*.XLSX=:\
*.xml=謹:\
*.XML=謹:\
*.xul=謹:\
*.XUL=謹:\
*.xz=:\
*.XZ=:\
*.yaml=:\
*.YAML=:\
*.yml=:\
*.YML=:\
*.zip=:\
*.ZIP=:\
*.zsh=:\
*.ZSH=:\
*.zsh-theme=:\
*.ZSH-THEME=:\
*.zshrc=:\
*.ZSHRC=:\
"


[ ! -f ${XDG_CONFIG_HOME:-$HOME/.config}/shell/shortcutrc ] && shortcuts >/dev/null 2>&1 &

if pacman -Qs libxft-bgra >/dev/null 2>&1; then
	# Start graphical server on user's current tty if not already running.
	[ "$(tty)" = "/dev/tty1" ] && ! pidof -s Xorg >/dev/null 2>&1 && exec startx "$XINITRC"
else
	echo "\033[31mIMPORTANT\033[0m: Note that \033[32m\`libxft-bgra\`\033[0m must be installed for this build of dwm.
Please run:
	\033[32myay -S libxft-bgra-git\033[0m
and replace \`libxft\`. Afterwards, you may start the graphical server by running \`startx\`."
fi

# Switch escape and caps if tty and no passwd required:
sudo -n loadkeys ${XDG_DATA_HOME:-$HOME/.local/share}/larbs/ttymaps.kmap 2>/dev/null
