#!/bin/zsh

# profile file. Runs on login. Environmental variables are set here.

# If you don't plan on reverting to bash, you can remove the link in ~/.profile
# to clean up.

# Adds `~/.local/bin` to $PATH
export PATH="$PATH:${$(find ~/.local/bin -type d -printf %p:)%%:}"

unsetopt PROMPT_SP

# Default programs:
export EDITOR="nvim"
export TERMINAL="st"
export BROWSER="librewolf"
# ~/ Clean-up:
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CACHE_HOME="$HOME/.cache"
export XINITRC="${XDG_CONFIG_HOME:-$HOME/.config}/x11/xinitrc"
#export XAUTHORITY="$XDG_RUNTIME_DIR/Xauthority" # This line will break some DMs.
export NOTMUCH_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/notmuch-config"
export GTK2_RC_FILES="${XDG_CONFIG_HOME:-$HOME/.config}/gtk-2.0/gtkrc-2.0"
export LESSHISTFILE="-"
export WGETRC="${XDG_CONFIG_HOME:-$HOME/.config}/wget/wgetrc"
export INPUTRC="${XDG_CONFIG_HOME:-$HOME/.config}/shell/inputrc"
export ZDOTDIR="${XDG_CONFIG_HOME:-$HOME/.config}/zsh"
#export ALSA_CONFIG_PATH="$XDG_CONFIG_HOME/alsa/asoundrc"
#export GNUPGHOME="${XDG_DATA_HOME:-$HOME/.local/share}/gnupg"
export WINEPREFIX="${XDG_DATA_HOME:-$HOME/.local/share}/wineprefixes/default"
export KODI_DATA="${XDG_DATA_HOME:-$HOME/.local/share}/kodi"
export PASSWORD_STORE_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/password-store"
export TMUX_TMPDIR="$XDG_RUNTIME_DIR"
export ANDROID_SDK_HOME="${XDG_CONFIG_HOME:-$HOME/.config}/android"
export CARGO_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/cargo"
export GOPATH="${XDG_DATA_HOME:-$HOME/.local/share}/go"
export ANSIBLE_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/ansible/ansible.cfg"
export UNISON="${XDG_DATA_HOME:-$HOME/.local/share}/unison"
export HISTFILE="${XDG_DATA_HOME:-$HOME/.local/share}/history"
export WEECHAT_HOME="${XDG_CONFIG_HOME:-$HOME/.config}/weechat"
export MBSYNCRC="${XDG_CONFIG_HOME:-$HOME/.config}/mbsync/config"
export ELECTRUMDIR="${XDG_DATA_HOME:-$HOME/.local/share}/electrum"

# Other program settings:
export DICS="/usr/share/stardict/dic/"
export SUDO_ASKPASS="$HOME/.local/bin/dmenupass"
export FZF_DEFAULT_OPTS="--layout=reverse --height 40%"
export LESS=-R
export LESS_TERMCAP_mb="$(printf '%b' '[1;31m')"
export LESS_TERMCAP_md="$(printf '%b' '[1;36m')"
export LESS_TERMCAP_me="$(printf '%b' '[0m')"
export LESS_TERMCAP_so="$(printf '%b' '[01;44;33m')"
export LESS_TERMCAP_se="$(printf '%b' '[0m')"
export LESS_TERMCAP_us="$(printf '%b' '[1;32m')"
export LESS_TERMCAP_ue="$(printf '%b' '[0m')"
export LESSOPEN="| /usr/bin/highlight -O ansi %s 2>/dev/null"
export QT_QPA_PLATFORMTHEME="gtk2"	# Have QT use gtk2 theme.
export MOZ_USE_XINPUT2="1"		# Mozilla smooth scrolling/touchpads.
export AWT_TOOLKIT="MToolkit wmname LG3D"	#May have to install wmname
export _JAVA_AWT_WM_NONREPARENTING=1	# Fix for Java applications in dwm


#setiing lf icons
export LF_ICONS="\
ln=ï’:\
or=ï’:\
tw=ï„•:\
ow=ï„•:\
st=ï„•:\
di=ï„•:\
pi=ï…›:\
so=ï…›:\
bd=ï…›:\
cd=ï…›:\
su=ï…›:\
sg=ï…›:\
ex=ï…›:\
fi=ï…›:\
*.ai=îž´:\
*.AI=îž´:\
*.android=îœŽ:\
*.ANDROID=îœŽ:\
*.apk=îœŽ:\
*.APK=îœŽ:\
*.apple=ï…¹:\
*.APPLE=ï…¹:\
*.avi=ï€½:\
*.AVI=ï€½:\
*.avif=ï‡…:\
*.AVIF=ï‡…:\
*.avro=î˜‹:\
*.AVRO=î˜‹:\
*.awk=ï’‰:\
*.AWK=ï’‰:\
*.bash=ï’‰:\
*.BASH=ï’‰:\
*.bash_history=ï’‰:\
*.BASH_HISTORY=ï’‰:\
*.bash_profile=ï’‰:\
*.BASH_PROFILE=ï’‰:\
*.bashrc=ï’‰:\
*.BASHRC=ï’‰:\
*.bat=ï…º:\
*.BAT=ï…º:\
*.bmp=ï‡…:\
*.BMP=ï‡…:\
*.bz=ï:\
*.BZ=ï:\
*.bz2=ï:\
*.BZ2=ï:\
*.c=î˜ž:\
*.C=î˜ž:\
*.c++=î˜:\
*.C++=î˜:\
*.cab=îœ:\
*.CAB=îœ:\
*.cc=î˜:\
*.CC=î˜:\
*.cfg=î˜•:\
*.CFG=î˜•:\
*.class=î‰–:\
*.CLASS=î‰–:\
*.clj=î¨:\
*.CLJ=î¨:\
*.cljs=îª:\
*.CLJS=îª:\
*.cls=ï€´:\
*.CLS=ï€´:\
*.cmd=îœ:\
*.CMD=îœ:\
*.coffee=ïƒ´:\
*.COFFEE=ïƒ´:\
*.conf=î˜•:\
*.CONF=î˜•:\
*.cp=î˜:\
*.CP=î˜:\
*.cpp=î˜:\
*.CPP=î˜:\
*.cs=ï š:\
*.CS=ï š:\
*.csh=ï’‰:\
*.CSH=ï’‰:\
*.cshtml=ï‡º:\
*.CSHTML=ï‡º:\
*.csproj=ï š:\
*.CSPROJ=ï š:\
*.css=î‰:\
*.CSS=î‰:\
*.csv=ï‡ƒ:\
*.CSV=ï‡ƒ:\
*.csx=ï š:\
*.CSX=ï š:\
*.cxx=î˜:\
*.CXX=î˜:\
*.d=îž¯:\
*.D=îž¯:\
*.dart=îž˜:\
*.DART=îž˜:\
*.db=ï‡€:\
*.DB=ï‡€:\
*.deb=î½:\
*.DEB=î½:\
*.diff=ï‘€:\
*.DIFF=ï‘€:\
*.djvu=ï€­:\
*.DJVU=ï€­:\
*.dll=îœ:\
*.DLL=îœ:\
*.doc=ï‡‚:\
*.DOC=ï‡‚:\
*.docx=ï‡‚:\
*.DOCX=ï‡‚:\
*.ds_store=ï…¹:\
*.DS_STORE=ï…¹:\
*.DS_store=ï…¹:\
*.DS_STORE=ï…¹:\
*.dump=ï‡€:\
*.DUMP=ï‡€:\
*.ebook=îŠ‹:\
*.EBOOK=îŠ‹:\
*.editorconfig=î˜•:\
*.EDITORCONFIG=î˜•:\
*.ejs=î˜˜:\
*.EJS=î˜˜:\
*.elm=î˜¬:\
*.ELM=î˜¬:\
*.env=ï‘¢:\
*.ENV=ï‘¢:\
*.eot=ï€±:\
*.EOT=ï€±:\
*.epub=îŠŠ:\
*.EPUB=îŠŠ:\
*.erb=îœ»:\
*.ERB=îœ»:\
*.erl=îž±:\
*.ERL=îž±:\
*.ex=î˜­:\
*.EX=î˜­:\
*.exe=ï…º:\
*.EXE=ï…º:\
*.exs=î˜­:\
*.EXS=î˜­:\
*.fish=ï’‰:\
*.FISH=ï’‰:\
*.flac=ï€:\
*.FLAC=ï€:\
*.flv=ï€½:\
*.FLV=ï€½:\
*.font=ï€±:\
*.FONT=ï€±:\
*.fs=îž§:\
*.FS=îž§:\
*.fsi=îž§:\
*.FSI=îž§:\
*.fsx=îž§:\
*.FSX=îž§:\
*.gdoc=ï‡‚:\
*.GDOC=ï‡‚:\
*.gem=îˆž:\
*.GEM=îˆž:\
*.gemfile=îˆž:\
*.GEMFILE=îˆž:\
*.gemspec=îˆž:\
*.GEMSPEC=îˆž:\
*.gform=ïŠ˜:\
*.GFORM=ïŠ˜:\
*.gif=ï‡…:\
*.GIF=ï‡…:\
*.git=ï‡“:\
*.GIT=ï‡“:\
*.gitattributes=ï‡“:\
*.GITATTRIBUTES=ï‡“:\
*.gitignore=ï‡“:\
*.GITIGNORE=ï‡“:\
*.gitmodules=ï‡“:\
*.GITMODULES=ï‡“:\
*.go=î˜¦:\
*.GO=î˜¦:\
*.gradle=îœŽ:\
*.GRADLE=îœŽ:\
*.groovy=îµ:\
*.GROOVY=îµ:\
*.gsheet=ï‡ƒ:\
*.GSHEET=ï‡ƒ:\
*.gslides=ï‡„:\
*.GSLIDES=ï‡„:\
*.guardfile=îˆž:\
*.GUARDFILE=îˆž:\
*.gz=ï:\
*.GZ=ï:\
*.h=ïƒ½:\
*.H=ïƒ½:\
*.hbs=î˜:\
*.HBS=î˜:\
*.hpp=ïƒ½:\
*.HPP=ïƒ½:\
*.hs=î·:\
*.HS=î·:\
*.htm=ï„»:\
*.HTM=ï„»:\
*.html=ï„»:\
*.HTML=ï„»:\
*.hxx=ïƒ½:\
*.HXX=ïƒ½:\
*.ico=ï‡…:\
*.ICO=ï‡…:\
*.image=ï‡…:\
*.IMAGE=ï‡…:\
*.iml=îžµ:\
*.IML=îžµ:\
*.ini=ï…º:\
*.INI=ï…º:\
*.ipynb=î˜†:\
*.IPYNB=î˜†:\
*.iso=î‰±:\
*.ISO=î‰±:\
*.jad=î‰–:\
*.JAD=î‰–:\
*.jar=îˆ„:\
*.JAR=îˆ„:\
*.java=îˆ„:\
*.JAVA=îˆ„:\
*.jfi=ï‡…:\
*.JFI=ï‡…:\
*.jfif=ï‡…:\
*.JFIF=ï‡…:\
*.jif=ï‡…:\
*.JIF=ï‡…:\
*.jpe=ï‡…:\
*.JPE=ï‡…:\
*.jpeg=ï‡…:\
*.JPEG=ï‡…:\
*.jpg=ï‡…:\
*.JPG=ï‡…:\
*.js=îŽ:\
*.JS=îŽ:\
*.json=î˜‹:\
*.JSON=î˜‹:\
*.jsx=îžº:\
*.JSX=îžº:\
*.jxl=ï‡…:\
*.JXL=ï‡…:\
*.ksh=ï’‰:\
*.KSH=ï’‰:\
*.latex=ï€´:\
*.LATEX=ï€´:\
*.less=î˜:\
*.LESS=î˜:\
*.lhs=î·:\
*.LHS=î·:\
*.license=ïœ˜:\
*.LICENSE=ïœ˜:\
*.localized=ï…¹:\
*.LOCALIZED=ï…¹:\
*.lock=ï€£:\
*.LOCK=ï€£:\
*.log=ï†:\
*.LOG=ï†:\
*.lua=î˜ :\
*.LUA=î˜ :\
*.lz=ï:\
*.LZ=ï:\
*.lz4=ï:\
*.LZ4=ï:\
*.lzh=ï:\
*.LZH=ï:\
*.lzma=ï:\
*.LZMA=ï:\
*.lzo=ï:\
*.LZO=ï:\
*.m=î˜ž:\
*.M=î˜ž:\
*.mm=î˜:\
*.MM=î˜:\
*.m4a=ï€:\
*.M4A=ï€:\
*.markdown=ï’Š:\
*.MARKDOWN=ï’Š:\
*.md=ï’Š:\
*.MD=ï’Š:\
*.mjs=îŽ:\
*.MJS=îŽ:\
*.mk=ï’‰:\
*.MK=ï’‰:\
*.mkd=ï’Š:\
*.MKD=ï’Š:\
*.mkv=ï€½:\
*.MKV=ï€½:\
*.mobi=îŠ‹:\
*.MOBI=îŠ‹:\
*.mov=ï€½:\
*.MOV=ï€½:\
*.mp3=ï€:\
*.MP3=ï€:\
*.mp4=ï€½:\
*.MP4=ï€½:\
*.msi=îœ:\
*.MSI=îœ:\
*.mustache=î˜:\
*.MUSTACHE=î˜:\
*.nix=ïŒ“:\
*.NIX=ïŒ“:\
*.node=ï¢˜:\
*.NODE=ï¢˜:\
*.npmignore=îœž:\
*.NPMIGNORE=îœž:\
*.odp=ï‡„:\
*.ODP=ï‡„:\
*.ods=ï‡ƒ:\
*.ODS=ï‡ƒ:\
*.odt=ï‡‚:\
*.ODT=ï‡‚:\
*.ogg=ï€:\
*.OGG=ï€:\
*.ogv=ï€½:\
*.OGV=ï€½:\
*.otf=ï€±:\
*.OTF=ï€±:\
*.patch=ï‘€:\
*.PATCH=ï‘€:\
*.pdf=ï‡:\
*.PDF=ï‡:\
*.php=îœ½:\
*.PHP=îœ½:\
*.pl=î©:\
*.PL=î©:\
*.png=ï‡…:\
*.PNG=ï‡…:\
*.ppt=ï‡„:\
*.PPT=ï‡„:\
*.pptx=ï‡„:\
*.PPTX=ï‡„:\
*.procfile=îˆž:\
*.PROCFILE=îˆž:\
*.properties=î˜‹:\
*.PROPERTIES=î˜‹:\
*.ps1=ï’‰:\
*.PS1=ï’‰:\
*.psd=îž¸:\
*.PSD=îž¸:\
*.pxm=ï‡…:\
*.PXM=ï‡…:\
*.py=î˜†:\
*.PY=î˜†:\
*.pyc=î˜†:\
*.PYC=î˜†:\
*.r=ï‰:\
*.R=ï‰:\
*.rakefile=îˆž:\
*.RAKEFILE=îˆž:\
*.rar=ï:\
*.RAR=ï:\
*.razor=ï‡º:\
*.RAZOR=ï‡º:\
*.rb=îˆž:\
*.RB=îˆž:\
*.rdata=ï‰:\
*.RDATA=ï‰:\
*.rdb=î­:\
*.RDB=î­:\
*.rdoc=ï’Š:\
*.RDOC=ï’Š:\
*.rds=ï‰:\
*.RDS=ï‰:\
*.readme=ï’Š:\
*.README=ï’Š:\
*.rlib=îž¨:\
*.RLIB=îž¨:\
*.rmd=ï’Š:\
*.RMD=ï’Š:\
*.rpm=îž»:\
*.RPM=îž»:\
*.rs=îž¨:\
*.RS=îž¨:\
*.rspec=îˆž:\
*.RSPEC=îˆž:\
*.rspec_parallel=îˆž:\
*.RSPEC_PARALLEL=îˆž:\
*.rspec_status=îˆž:\
*.RSPEC_STATUS=îˆž:\
*.rss=ï‚ž:\
*.RSS=ï‚ž:\
*.rtf=ïœ˜:\
*.RTF=ïœ˜:\
*.ru=îˆž:\
*.RU=îˆž:\
*.rubydoc=îœ»:\
*.RUBYDOC=îœ»:\
*.sass=î˜ƒ:\
*.SASS=î˜ƒ:\
*.scala=îœ·:\
*.SCALA=îœ·:\
*.scss=î‰:\
*.SCSS=î‰:\
*.sh=ï’‰:\
*.SH=ï’‰:\
*.shell=ï’‰:\
*.SHELL=ï’‰:\
*.slim=îœ»:\
*.SLIM=îœ»:\
*.sln=îœŒ:\
*.SLN=îœŒ:\
*.so=ï…¼:\
*.SO=ï…¼:\
*.sql=ï‡€:\
*.SQL=ï‡€:\
*.sqlite3=îŸ„:\
*.SQLITE3=îŸ„:\
*.sty=ï€´:\
*.STY=ï€´:\
*.styl=î˜€:\
*.STYL=î˜€:\
*.stylus=î˜€:\
*.STYLUS=î˜€:\
*.svg=ï‡…:\
*.SVG=ï‡…:\
*.swift=î•:\
*.SWIFT=î•:\
*.tar=ï:\
*.TAR=ï:\
*.taz=ï:\
*.TAZ=ï:\
*.tbz=ï:\
*.TBZ=ï:\
*.tbz2=ï:\
*.TBZ2=ï:\
*.tex=ï€´:\
*.TEX=ï€´:\
*.tgz=ï:\
*.TGZ=ï:\
*.tiff=ï‡…:\
*.TIFF=ï‡…:\
*.tlz=ï:\
*.TLZ=ï:\
*.toml=î˜•:\
*.TOML=î˜•:\
*.ts=î˜¨:\
*.TS=î˜¨:\
*.tsv=ï‡ƒ:\
*.TSV=ï‡ƒ:\
*.tsx=îžº:\
*.TSX=îžº:\
*.ttf=ï€±:\
*.TTF=ï€±:\
*.twig=î˜œ:\
*.TWIG=î˜œ:\
*.txt=ï…œ:\
*.TXT=ï…œ:\
*.txz=ï:\
*.TXZ=ï:\
*.tz=ï:\
*.TZ=ï:\
*.tzo=ï:\
*.TZO=ï:\
*.video=ï€½:\
*.VIDEO=ï€½:\
*.vim=î˜«:\
*.VIM=î˜«:\
*.vue=ïµ‚:\
*.VUE=ïµ‚:\
*.war=î‰–:\
*.WAR=î‰–:\
*.wav=ï€:\
*.WAV=ï€:\
*.webm=ï€½:\
*.WEBM=ï€½:\
*.webp=ï‡…:\
*.WEBP=ï‡…:\
*.windows=ï…º:\
*.WINDOWS=ï…º:\
*.woff=ï€±:\
*.WOFF=ï€±:\
*.woff2=ï€±:\
*.WOFF2=ï€±:\
*.xhtml=ï„»:\
*.XHTML=ï„»:\
*.xls=ï‡ƒ:\
*.XLS=ï‡ƒ:\
*.xlsx=ï‡ƒ:\
*.XLSX=ï‡ƒ:\
*.xml=ïª¿:\
*.XML=ïª¿:\
*.xul=ïª¿:\
*.XUL=ïª¿:\
*.xz=ï:\
*.XZ=ï:\
*.yaml=ï’:\
*.YAML=ï’:\
*.yml=ï’:\
*.YML=ï’:\
*.zip=ï:\
*.ZIP=ï:\
*.zsh=ï’‰:\
*.ZSH=ï’‰:\
*.zsh-theme=ï’‰:\
*.ZSH-THEME=ï’‰:\
*.zshrc=ï’‰:\
*.ZSHRC=ï’‰:\
"


[ ! -f ${XDG_CONFIG_HOME:-$HOME/.config}/shell/shortcutrc ] && shortcuts >/dev/null 2>&1 &

if pacman -Qs libxft-bgra >/dev/null 2>&1; then
	# Start graphical server on user's current tty if not already running.
	[ "$(tty)" = "/dev/tty1" ] && ! pidof -s Xorg >/dev/null 2>&1 && exec startx "$XINITRC"
else
	echo "\033[31mIMPORTANT\033[0m: Note that \033[32m\`libxft-bgra\`\033[0m must be installed for this build of dwm.
Please run:
	\033[32myay -S libxft-bgra-git\033[0m
and replace \`libxft\`. Afterwards, you may start the graphical server by running \`startx\`."
fi

# Switch escape and caps if tty and no passwd required:
sudo -n loadkeys ${XDG_DATA_HOME:-$HOME/.local/share}/larbs/ttymaps.kmap 2>/dev/null
